### Forgot Password API Tests
### Use with REST Client extension in VS Code

@baseUrl = http://localhost:5000/api/auth
@loginID = test@example.com

### 1. Request Password Reset
POST {{baseUrl}}/forgot-password
Content-Type: application/json

{
  "loginID": "{{loginID}}"
}

### Response will contain OTP in development mode
### Copy the OTP from response and use it below

###

### 2. Verify OTP (Optional step)
POST {{baseUrl}}/verify-otp
Content-Type: application/json

{
  "loginID": "{{loginID}}",
  "otp": "123456"
}

###

### 3. Reset Password with OTP
POST {{baseUrl}}/reset-password
Content-Type: application/json

{
  "loginID": "{{loginID}}",
  "otp": "123456",
  "newPassword": "newPassword123"
}

###

### 4. Login with New Password
POST {{baseUrl}}/login
Content-Type: application/json

{
  "loginID": "{{loginID}}",
  "password": "newPassword123"
}

###

### Error Test Cases

### Test 1: Missing loginID
POST {{baseUrl}}/forgot-password
Content-Type: application/json

{
}

###

### Test 2: Invalid OTP format (not 6 digits)
POST {{baseUrl}}/verify-otp
Content-Type: application/json

{
  "loginID": "{{loginID}}",
  "otp": "12345"
}

###

### Test 3: Invalid OTP (wrong number)
POST {{baseUrl}}/verify-otp
Content-Type: application/json

{
  "loginID": "{{loginID}}",
  "otp": "999999"
}

###

### Test 4: Weak password (less than 8 characters)
POST {{baseUrl}}/reset-password
Content-Type: application/json

{
  "loginID": "{{loginID}}",
  "otp": "123456",
  "newPassword": "weak"
}

###

### Test 5: Non-existent user
POST {{baseUrl}}/forgot-password
Content-Type: application/json

{
  "loginID": "nonexistent@example.com"
}
